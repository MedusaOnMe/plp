<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PUMP LIVE PAD</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

        :root {
            --bg-primary: #0f0d1a;
            --bg-secondary: #1a1729;
            --bg-tertiary: #242038;
            --surface-primary: #1a1729;
            --surface-secondary: #242038;
            --surface-hover: #2e2847;
            --text-primary: #ffffff;
            --text-secondary: #c4b5fd;
            --text-muted: #a78bfa;
            --accent-primary: #6366f1;
            --accent-secondary: #4c1d95;
            --success: #10b981;
            --warning: #f97316;
            --danger: #ef4444;
            --border-subtle: #363047;
            --border-medium: #4c4865;
            --purple-primary: #6366f1;
            --purple-secondary: #4c1d95;
            --purple-light: rgba(99, 102, 241, 0.15);
            --blue-primary: #3b82f6;
            --blue-secondary: #1e40af;
            --orange-primary: #f97316;
            --orange-secondary: #ea580c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, #0f0d1a 0%, #1a1729 25%, #242038 50%, #1a1729 75%, #0f0d1a 100%) !important;
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            color: var(--text-primary) !important;
            overflow-x: hidden;
            overflow-y: hidden;
            position: relative;
            margin: 0;
            padding: 0;
            line-height: 1.5;
            width: 100vw;
            height: 100vh;
            min-width: 1200px;
            min-height: 700px;
            zoom: 0.8;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.03) 0%, transparent 30%),
                repeating-linear-gradient(
                    45deg,
                    transparent 0px,
                    transparent 3px,
                    rgba(99, 102, 241, 0.02) 3px,
                    rgba(99, 102, 241, 0.02) 6px
                ),
                repeating-linear-gradient(
                    -45deg,
                    transparent 0px,
                    transparent 5px,
                    rgba(59, 130, 246, 0.01) 5px,
                    rgba(59, 130, 246, 0.01) 10px
                );
            z-index: -1;
            pointer-events: none;
            animation: backgroundFlow 25s ease-in-out infinite;
        }

        @keyframes backgroundFlow {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            33% {
                transform: translate(10px, -5px) rotate(1deg);
            }
            66% {
                transform: translate(-5px, 10px) rotate(-0.5deg);
            }
        }




        /* Combined background animations */
        .background-layer {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }


        @keyframes gridMove {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(60px, 60px);
            }
        }

        /* Simple floating particles */


        /* Redesigned Sidebar Header */
        .header {
            position: fixed;
            left: 0;
            top: 0;
            width: 300px;
            height: 100vh;
            background: linear-gradient(180deg, var(--surface-primary), var(--surface-secondary));
            border-right: 3px solid var(--purple-primary);
            box-shadow: 4px 0 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 2rem 1rem;
            z-index: 100;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 30% 20%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
            z-index: 0;
        }

        .tech-title {
            position: relative;
            z-index: 1;
        }

        .tech-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 2rem 0;
            letter-spacing: -0.02em;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5), 0 0 20px rgba(99, 102, 241, 0.3);
            text-align: center;
        }




        /* Redesigned Top Stats Bar */
        .instructions-banner {
            position: fixed;
            top: 0;
            left: 300px;
            right: 0;
            height: 80px;
            background: linear-gradient(90deg, var(--surface-primary), var(--surface-secondary));
            border-bottom: 2px solid var(--purple-primary);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 90;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        }

        .instructions-left {
            flex: 1;
        }
        .instruction-main {
            display: flex;
            align-items: center;
            gap: 2rem;
            flex: 1;
        }

        .stats-right {
            flex: 0.6;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            align-items: stretch;
        }






        .instruction-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            align-items: stretch;
            text-align: center;
            margin-bottom: 1rem;
        }

        .instruction-item {
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .command {
            font-family: 'Fira Code', monospace;
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            background: rgba(99, 102, 241, 0.2);
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--purple-primary);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            text-shadow: none;
            white-space: nowrap;
        }

        .command-note {
            font-family: 'Outfit', sans-serif;
            font-size: 1.4rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 1.2rem;
            font-style: italic;
        }

        .example-url {
            font-family: 'Fira Code', monospace;
            font-size: 0.7rem;
            color: var(--text-secondary);
            background: rgba(255, 255, 255, 0.05);
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
            margin-bottom: 0.3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-style: italic;
        }

        .requirements-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-top: 0.5rem;
        }

        .requirement-box {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--purple-secondary);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            box-shadow:
                0 4px 15px rgba(0, 0, 0, 0.3),
                inset 0 2px 10px rgba(99, 102, 241, 0.15);
        }

        .requirement-title {
            display: none;
        }

        .requirement-text {
            font-family: 'Fira Code', monospace;
            font-size: 2.2rem;
            color: var(--text-primary);
            font-weight: 600;
            line-height: 1.2;
        }

        .instruction-limit {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 0.75rem;
            text-align: center;
        }

        .limit-title {
            font-family: 'Outfit', sans-serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0.8rem 0 0.5rem 0;
        }

        .limit-subtitle {
            font-size: 1.6rem;
            color: var(--text-primary);
            font-weight: 700;
            font-family: 'Outfit', sans-serif;
            margin: 0.5rem 0 0.8rem 0;
        }



        .stat-value {
            font-family: 'Fira Code', monospace;
            font-size: 2.8rem;
            font-weight: 600;
            color: var(--primary);
            display: block;
        }

        .stat-label {
            font-size: 1.2rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.1rem;
        }

        /* Large Refresh Info for 1440p */
        .refresh-info {
            display: none;
        }

        /* Horizontal Coins Layout */

        .main-container {
            margin-left: 300px;
            margin-top: 80px;
            padding: 1.5rem;
            width: calc(100vw - 300px);
            height: calc(100vh - 80px);
            display: grid;
            grid-template-columns: 1fr minmax(400px, 500px);
            grid-template-rows: 200px 1fr;
            gap: 1.5rem;
            grid-template-areas:
                "instructions activity"
                "coins activity";
        }



        .coin-stats {
            margin-bottom: 0.5rem;
            margin-top: 0;
        }

        .coin-stat {
            height: 45px;
            padding: 6px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .coin-stat-value {
            font-size: 42px !important;
            line-height: 1.2;
            margin: 0;
            padding: 2px 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .coin-stat-label {
            font-size: 22px !important;
            line-height: 1;
            margin: 2px 0 0 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .coin-meta {
            height: 45px;
            padding: 6px 12px;
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .contract-address {
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            text-align: left;
            min-width: 0;
            flex: 1;
        }

        .timestamp-info {
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            text-align: right;
            min-width: 0;
            flex: 1;
        }

        .contract-label, .timestamp-label {
            font-size: 0.6rem !important;
            line-height: 1;
            margin: 0;
            white-space: nowrap;
        }

        .contract-value, .timestamp-value {
            font-size: 0.7rem !important;
            line-height: 1;
            margin: 1px 0 0 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .coin-header {
            height: 70px;
            margin-bottom: 8px;
            padding-bottom: 8px;
            overflow: visible;
        }

        .coin-info {
            overflow: hidden;
            min-width: 0;
        }

        .coin-details h3 {
            line-height: 1.1 !important;
            margin: 0 0 4px 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .coin-ticker {
            line-height: 1 !important;
            margin: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Large Coin Table */
        .coins-list {
            background: linear-gradient(135deg, var(--surface-primary), var(--surface-secondary));
            border: 2px solid var(--purple-primary);
            border-radius: 16px;
            overflow: hidden;
            box-shadow:
                0 8px 25px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(99, 102, 241, 0.2);
            backdrop-filter: blur(10px);
            height: calc(100vh - 80px - 200px - 3rem - 8rem);
        }

        .coins-table {
            width: 100%;
            height: 100%;
        }

        .coins-table tbody {
            display: block;
            height: calc(100% - 60px);
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .coins-table tbody::-webkit-scrollbar {
            display: none;
        }

        .coins-table thead,
        .coins-table tbody tr {
            display: table;
            width: 100%;
            table-layout: fixed;
        }

        .coins-table thead {
            width: 100%;
        }

        .table-header {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.2), rgba(59, 130, 246, 0.15));
            border-bottom: 3px solid var(--purple-primary);
        }

        .table-header th {
            padding: 1rem 1.2rem;
            text-align: left;
            font-weight: 700;
            color: var(--text-primary);
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .coin-row {
            border-bottom: 2px solid var(--border-subtle);
            transition: all 0.3s ease;
            height: 70px;
        }

        .coin-row:hover {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.12), rgba(59, 130, 246, 0.08));
            box-shadow: inset 0 0 20px rgba(99, 102, 241, 0.15);
            transform: translateX(5px);
        }

        .coin-row:last-child {
            border-bottom: none;
        }

        .coin-row td {
            padding: 0.8rem;
            vertical-align: middle;
            font-size: 1.6rem;
        }


        /* Coin name text overflow handling for all coins */
        .coin-details h3, h3 {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
            font-size: 1.5rem !important;
        }

        /* Increase avatar size */
        .coin-avatar {
            width: 50px !important;
            height: 50px !important;
            font-size: 1.5rem !important;
        }

        .section-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3.2rem;
            color: var(--text-primary);
            text-align: left;
            margin-bottom: 1rem;
            margin-top: -20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 4px solid var(--purple-primary);
            padding-bottom: 0.5rem;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .section-hint {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin: -0.5rem 0 1.5rem 0;
            opacity: 0.8;
        }

        .total-coins-inline {
            background: linear-gradient(135deg, var(--surface-secondary), var(--surface-primary));
            border: 2px solid var(--purple-primary);
            border-radius: 10px;
            padding: 0.8rem 1.2rem;
            box-shadow:
                0 4px 15px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(99, 102, 241, 0.3);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 1.4rem;
            font-weight: 700;
            color: white;
        }




        /* Top coins grid formatting - match recent coins */
        .coins-grid .coin-stats {
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .coins-grid .coin-stat {
            padding: 0.4rem;
        }
        .coins-grid .coin-stat-value {
            font-size: 36px !important;
            line-height: 1.2;
            padding: 2px 0;
        }
        .coins-grid .coin-stat-label {
            font-size: 22px !important;
        }

        /* Different heights and styles for top vs bottom stats */
        .coin-stats .coin-stat {
            height: 100px;
            padding: 0.6rem 0.8rem;
        }

        .coin-bottom-stats .coin-stat {
            height: 45px;
            padding: 0.5rem 0.6rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .coin-bottom-stats .coin-stat-value {
            font-size: 16px !important;
            font-weight: 500;
        }

        .coin-bottom-stats .coin-stat-label {
            font-size: 14px !important;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .coin-bottom-info {
            padding: 0.5rem;
            text-align: center;
        }

        .time-ago {
            font-family: 'Fira Code', monospace;
            font-size: 1.4rem;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .contract-address {
            font-family: 'Fira Code', monospace;
            font-size: 1.4rem;
            color: var(--orange-primary);
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }


        /* Grid area assignments */
        .coins-section {
            grid-area: coins;
        }


        .instructions-section {
            grid-area: instructions;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(59, 130, 246, 0.1));
            border: 3px solid var(--purple-primary);
            border-radius: 16px;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            height: 200px;
            overflow: hidden;
        }

        .activity-section {
            grid-area: activity;
        }


        /* Large Coin Info Cell for 1440p */
        .coin-info-cell {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }





        .coin-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--purple-light), rgba(99, 102, 241, 0.25));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--purple-primary);
            overflow: hidden;
            border: 3px solid var(--purple-primary);
            flex-shrink: 0;
            box-shadow:
                0 4px 15px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(99, 102, 241, 0.4);
        }

        .coin-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 7px;
        }


        .coin-name {
            font-family: 'Outfit', sans-serif;
            font-size: 2.2rem;
            color: var(--text-primary);
            margin: 0;
            line-height: 1.2;
            font-weight: 700;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .coin-ticker {
            color: var(--blue-primary);
            font-weight: 600;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: 'Fira Code', monospace;
            margin: 0.2rem 0 0 0;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }



        .stat-value {
            font-family: 'Outfit', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }



        .contract-label, .timestamp-label {
            font-size: 0.55rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        .contract-value {
            font-family: 'Fira Code', monospace;
            font-size: 0.7rem;
            color: var(--text-primary);
            font-weight: 500;
        }

        .timestamp-value {
            font-size: 0.7rem;
            color: var(--text-primary);
            font-weight: 500;
        }


        /* Large Activity Feed */
        .live-activity {
            background: linear-gradient(135deg, var(--surface-primary), var(--surface-secondary));
            border: 2px solid var(--purple-primary);
            border-radius: 16px;
            overflow: hidden;
            height: calc(100vh - 80px - 3rem - 4rem);
            display: flex;
            flex-direction: column;
            box-shadow:
                0 8px 25px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(99, 102, 241, 0.2);
            backdrop-filter: blur(10px);
        }

        .activity-header {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.2), rgba(59, 130, 246, 0.15));
            border-bottom: 3px solid var(--purple-primary);
            padding: 1.5rem 2rem;
            padding-top: 2.5rem;
            margin-top: -20px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .activity-feed {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            font-family: 'Fira Code', monospace;
            font-size: 1.8rem;
            font-weight: 500;
            line-height: 1.5;
            background: rgba(0, 0, 0, 0.25);
        }

        .activity-feed {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .activity-feed::-webkit-scrollbar {
            display: none;
        }

        .activity-item {
            color: var(--text-secondary);
            margin-bottom: 0.8rem;
            padding: 1rem;
            background: linear-gradient(90deg, var(--surface-secondary), rgba(0, 0, 0, 0.3));
            border-left: 4px solid var(--purple-primary);
            border-radius: 0 10px 10px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
        }

        .activity-item:hover {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.15), rgba(59, 130, 246, 0.08));
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            transform: translateX(5px);
        }

        .activity-item.success {
            border-left: 4px solid var(--success);
            color: var(--text-primary);
            background: linear-gradient(90deg, rgba(16, 185, 129, 0.15), rgba(0, 0, 0, 0.3));
        }

        .activity-item.error {
            border-left: 4px solid var(--danger);
            color: var(--danger);
            background: linear-gradient(90deg, rgba(255, 107, 107, 0.15), rgba(0, 0, 0, 0.3));
        }

        .activity-item.info {
            border-left: 4px solid var(--blue-primary);
            color: var(--text-primary);
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.15), rgba(0, 0, 0, 0.3));
        }

        .activity-timestamp {
            color: var(--purple-primary);
            font-size: 1.6rem;
            margin-right: 1rem;
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .activity-timestamp::before {
            content: '[';
            color: var(--text-muted);
            font-size: 1rem;
        }

        .activity-timestamp::after {
            content: ']';
            color: var(--text-muted);
            font-size: 1rem;
        }


        /* Sidebar Stats */
        .sidebar-stats {
            margin-top: 2rem;
            width: 100%;
        }

        .sidebar-stat {
            margin-bottom: 2rem;
            text-align: center;
        }

        .sidebar-stat .stat-label {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 0.5rem;
            letter-spacing: 0.1em;
        }

        .sidebar-stat .stat-value {
            font-size: 3rem;
            color: var(--purple-primary);
            font-weight: 700;
            font-family: 'Fira Code', monospace;
        }

        /* Top Stats Bar Styles */
        .quick-stats {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .quick-stat {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-family: 'Fira Code', monospace;
        }

        .top-stats {
            display: flex;
            gap: 2rem;
        }

        .top-stat {
            text-align: center;
        }

        .top-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--purple-primary);
            font-family: 'Fira Code', monospace;
        }

        .top-stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.2rem;
        }

        /* Stat Cards */
        .stat-card {
            background: linear-gradient(135deg, var(--surface-secondary), var(--surface-primary));
            border: 2px solid var(--purple-primary);
            border-radius: 12px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
        }

        .stat-icon {
            font-size: 2rem;
            min-width: 3rem;
            text-align: center;
        }

        .stat-info {
            flex: 1;
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'Fira Code', monospace;
            margin-bottom: 0.2rem;
        }

        .stat-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Recent Cards */
        .recent-cards {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            height: calc(100% - 4rem);
            overflow-y: auto;
        }

        .recent-card {
            background: linear-gradient(135deg, var(--surface-secondary), var(--surface-primary));
            border: 1px solid var(--purple-primary);
            border-radius: 10px;
            padding: 1rem;
            transition: all 0.3s ease;
        }

        .recent-card:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), var(--surface-primary));
            transform: translateX(5px);
        }

        .recent-card-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 0.8rem;
        }

        .recent-card-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--purple-light), var(--purple-primary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 1.2rem;
        }

        .recent-card-info h4 {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin: 0;
            font-weight: 600;
        }

        .recent-card-info .ticker {
            font-size: 0.9rem;
            color: var(--blue-primary);
            font-family: 'Fira Code', monospace;
        }

        .recent-card-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .recent-card-stat {
            color: var(--text-secondary);
        }

        .recent-card-stat strong {
            color: var(--text-primary);
        }

        /* Empty state for recent cards */
        .recent-empty {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .recent-empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* Responsive Layout */

        /* Launch Instructions Styling */
        .launch-command {
            margin-bottom: 1rem;
        }

        .command-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .command-text {
            font-family: 'Fira Code', monospace;
            font-size: 3rem;
            font-weight: 700;
            color: var(--purple-primary);
            background: rgba(0, 0, 0, 0.4);
            padding: 1rem 2rem;
            border-radius: 8px;
            border: 2px solid var(--purple-primary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        }

        .command-subtitle {
            font-family: 'Outfit', sans-serif;
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        .launch-rules {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .rule-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-family: 'Outfit', sans-serif;
            font-size: 1.4rem;
            color: var(--text-primary);
        }

        .rule-emoji {
            font-size: 1.5rem;
        }

        .rule-text {
            font-weight: 500;
        }

        /* Responsive Dashboard Layout */
    </style>
</head>
<body>
    <!-- Floating Particles -->
    <div class="particles" id="particles"></div>

    <!-- Countdown Timer -->
    <div class="refresh-info">
        Refreshes every 30s
    </div>


    <!-- Redesigned Sidebar Header -->
    <header class="header">
        <h1 class="tech-title">PUMP LIVE PAD</h1>
        <div class="sidebar-stats">
            <div class="sidebar-stat">
                <div class="stat-label">TOTAL TOKENS</div>
                <div class="stat-value" id="sidebarTotalCoins">0</div>
            </div>
            <div class="sidebar-stat">
                <div class="stat-label">ACTIVE NOW</div>
                <div class="stat-value">LIVE</div>
            </div>
        </div>
    </header>

    <!-- Redesigned Top Stats Bar -->
    <section class="instructions-banner">
        <div class="instruction-main">
            <div class="command">Launch: /launch NAME</div>
            <div class="quick-stats">
                <span class="quick-stat">Your PFP = Coin Image</span>
                <span class="quick-stat">Status: <span style="color: var(--success);">ACTIVE</span></span>
            </div>
        </div>
        <div class="top-stats">
            <div class="top-stat">
                <div class="top-stat-value" id="topTotalCoins">0</div>
                <div class="top-stat-label">Total</div>
            </div>
            <div class="top-stat">
                <div class="top-stat-value">LIVE</div>
                <div class="top-stat-label">Status</div>
            </div>
        </div>
    </section>


    <!-- Main Content Container -->
    <section class="main-container">

        <!-- Launch Instructions -->
        <div class="instructions-section">
            <div class="launch-command">
                <div class="command-title">Launch a Token</div>
                <div class="command-text">Type in chat: /launch NAME</div>
            </div>
            <div class="launch-rules">
                <div class="rule-item">
                    <span class="rule-emoji">üñºÔ∏è</span>
                    <span class="rule-text">Your profile picture becomes the coin image</span>
                </div>
                <div class="rule-item">
                    <span class="rule-emoji">üí∞</span>
                    <span class="rule-text">Total Created: <span id="totalTokensDisplay">0</span> tokens</span>
                </div>
            </div>
        </div>

        <!-- All Tokens List -->
        <div class="coins-section">
            <h2 class="section-title">All Tokens</h2>
            <p class="section-hint">üëÜ Click any token to view on pump.fun</p>
            <div class="coins-list">
                <table class="coins-table">
                    <thead class="table-header">
                        <tr>
                            <th>Token</th>
                            <th>Market Cap</th>
                            <th>Volume</th>
                            <th>Contract</th>
                            <th>Created</th>
                        </tr>
                    </thead>
                    <tbody id="coinsTableBody">
                        <!-- Coins will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>


        <!-- Activity Feed -->
        <div class="activity-section">
            <h2 class="section-title">Live Feed</h2>
            <div class="live-activity">
                <div class="activity-header">System Monitor</div>
                <div class="activity-feed" id="activityFeed">
                    <div class="activity-item info">
                        <span class="activity-timestamp">INIT</span>
                        Pump Live Pad system online
                    </div>
                </div>
            </div>
        </div>

    </section>

    <script>
        class DashboardManager {
            constructor() {
                this.coins = [];
                this.ws = null;
                this.reconnectAttempts = 0;
                this.maxReconnectAttempts = 5;
                this.lastCoinCount = 0;

                this.init();
            }

            init() {
                this.connectWebSocket();
                this.loadInitialData();
                this.loadInitialActivity();
                this.startAnimations();
                this.startDefaultCountdown();
            }

            connectWebSocket() {
                try {
                    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
                    this.ws = new WebSocket(`${protocol}//${window.location.host}`);

                    this.ws.onopen = () => {
                        console.log('üü¢ WebSocket connected');
                        this.reconnectAttempts = 0;
                    };

                    this.ws.onmessage = (event) => {
                        try {
                            const message = JSON.parse(event.data);
                            this.handleWebSocketMessage(message);
                        } catch (error) {
                            console.error('Error parsing WebSocket message:', error);
                        }
                    };

                    this.ws.onerror = (error) => {
                        console.error('üî¥ WebSocket error:', error);
                    };

                    this.ws.onclose = () => {
                        console.log('üî¥ WebSocket disconnected');
                        this.scheduleReconnect();
                    };
                } catch (error) {
                    console.error('Failed to connect WebSocket:', error);
                    this.scheduleReconnect();
                }
            }

            scheduleReconnect() {
                if (this.reconnectAttempts < this.maxReconnectAttempts) {
                    this.reconnectAttempts++;
                    const delay = Math.min(1000 * Math.pow(2, this.reconnectAttempts), 30000);

                    console.log(`Attempting to reconnect in ${delay/1000}s (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);

                    setTimeout(() => {
                        this.connectWebSocket();
                    }, delay);
                } else {
                    console.log('Max reconnection attempts reached. Please refresh the page.');
                }
            }

            handleWebSocketMessage(message) {
                if (message.type === 'init' || message.type === 'update') {
                    this.updateCoins(message.data.coins || []);

                } else if (message.type === 'new_coin') {
                    this.addNewCoin(message.data);
                    console.log('üÜï New token created:', message.data.name);
                } else if (message.type === 'activity') {
                    this.addActivityItem(message.data);
                }
            }

            async loadInitialData() {
                try {
                    const response = await fetch('/api/coins');
                    if (response.ok) {
                        const coins = await response.json();
                        this.updateCoins(coins);
                    }
                } catch (error) {
                    console.error('Error loading initial data:', error);
                }
            }

            async loadInitialActivity() {
                try {
                    const response = await fetch('/api/activity');
                    if (response.ok) {
                        const activities = await response.json();
                        // Reverse so oldest gets added first, newest ends up on top
                        activities.reverse().forEach(activity => {
                            this.addActivityItem({
                                message: activity.message,
                                type: activity.type,
                                timestamp: activity.timestamp
                            });
                        });
                    }
                } catch (error) {
                    console.error('Error loading initial activity:', error);
                }
            }

            updateCoins(newCoins) {
                const previousCount = this.coins.length;
                this.coins = Array.isArray(newCoins) ? newCoins : [];

                this.updateStats();
                this.renderCoins();

                // Check for new coins and log
                if (this.coins.length > previousCount) {
                    const newCoinCount = this.coins.length - previousCount;
                    if (previousCount > 0) {
                        console.log(`üÜï ${newCoinCount} new token${newCoinCount > 1 ? 's' : ''} added`);
                    }
                }

                // Store current count for real-time detection
                this.lastCoinCount = this.coins.length;
            }

            addNewCoin(coinData) {
                this.coins.unshift(coinData);
                this.updateStats();
                this.renderCoins();

                // Highlight the new row briefly
                setTimeout(() => {
                    const newCoinRow = document.querySelector('.coin-row');
                    if (newCoinRow) {
                        newCoinRow.style.backgroundColor = 'var(--purple-light)';
                        setTimeout(() => {
                            newCoinRow.style.backgroundColor = '';
                        }, 2000);
                    }
                }, 100);
            }

            async updateStats() {
                // Get stats from API endpoint (computed in Firebase)
                try {
                    const response = await fetch('/api/stats');
                    if (response.ok) {
                        const stats = await response.json();

                        // Update all total coins stats
                        const totalCoins = stats.totalCoins || 0;
                        const elements = ['totalCoins', 'sidebarTotalCoins', 'topTotalCoins', 'totalTokensDisplay'];
                        elements.forEach(id => {
                            const el = document.getElementById(id);
                            if (el) el.textContent = totalCoins;
                        });
                    }
                } catch (error) {
                    console.error('Error fetching stats:', error);
                }
            }

            formatCurrency(value) {
                if (value >= 1000000) {
                    return '$' + (value / 1000000).toFixed(1) + 'M';
                } else if (value >= 1000) {
                    return '$' + (value / 1000).toFixed(1) + 'K';
                } else {
                    return '$' + value.toLocaleString();
                }
            }

            renderCoins() {
                const coinsTableBody = document.getElementById('coinsTableBody');

                // LOG DASHBOARD DATA
                console.log('üñ•Ô∏è DASHBOARD RENDERING COINS:');
                console.log(JSON.stringify(this.coins, null, 2));

                if (this.coins.length === 0) {
                    coinsTableBody.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 2rem; color: var(--text-secondary);">No tokens created yet. Waiting for /launch commands...</td></tr>';
                    return;
                }

                // Sort coins by creation date (newest first) and display all recent coins
                const newestCoins = [...this.coins]
                    .sort((a, b) => {
                        const dateA = new Date(a.createdAt || a.addedToDatabase || 0);
                        const dateB = new Date(b.createdAt || b.addedToDatabase || 0);
                        return dateB - dateA;
                    });

                // Create table rows for coins
                coinsTableBody.innerHTML = newestCoins.map(coin => this.createCoinRow(coin)).join('');
            }


            createCoinRow(coin) {
                // Show actual image or fallback to first letter
                const avatar = coin.imageUrl ?
                    `<img src="${coin.imageUrl}" alt="${coin.name}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">` :
                    coin.ticker.charAt(0);

                const pumpUrl = `https://pump.fun/coin/${coin.contractAddress}`;

                return `
                    <tr class="coin-row" data-address="${coin.contractAddress}" onclick="window.open('${pumpUrl}', '_blank')" style="cursor: pointer;" title="Click to view on pump.fun">
                        <td>
                            <div class="coin-info-cell">
                                <div class="coin-avatar">${avatar}</div>
                                <div>
                                    <div class="coin-name">${coin.name}</div>
                                    <div class="coin-ticker">$${coin.ticker}</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <span class="stat-value">${this.formatCurrency(coin.marketCap || 0)}</span>
                        </td>
                        <td>
                            <span class="stat-value">${this.formatCurrency(coin.volume24h || 0)}</span>
                        </td>
                        <td>
                            <span class="contract-address">${this.shortenAddress(coin.contractAddress) || 'N/A'}</span>
                        </td>
                        <td>
                            <span class="time-ago">${this.getTimeAgo(coin.createdAt || coin.addedToDatabase)}</span>
                        </td>
                    </tr>
                `;
            }

            getTimeAgo(timestamp) {
                if (!timestamp) return 'Unknown';

                const now = Date.now();
                const coinTime = new Date(timestamp).getTime();
                const diffMs = now - coinTime;
                const diffSecs = Math.floor(diffMs / 1000);
                const diffMins = Math.floor(diffSecs / 60);
                const diffHours = Math.floor(diffMins / 60);
                const diffDays = Math.floor(diffHours / 24);

                if (diffDays > 0) {
                    return `${diffDays}d ago`;
                } else if (diffHours > 0) {
                    return `${diffHours}h ago`;
                } else if (diffMins > 0) {
                    return `${diffMins}m ago`;
                } else {
                    return `${Math.max(diffSecs, 0)}s ago`;
                }
            }

            shortenAddress(address) {
                if (!address) return 'N/A';
                return `${address.slice(0, 6)}...${address.slice(-4)}`;
            }

            updateTimestamps() {
                // Update all timestamp elements without re-rendering entire table
                const timestampElements = document.querySelectorAll('.time-ago');
                timestampElements.forEach((element) => {
                    const coinRow = element.closest('.coin-row');
                    if (coinRow) {
                        const contractAddress = coinRow.getAttribute('data-address');
                        const coin = this.coins.find(c => c.contractAddress === contractAddress);
                        if (coin) {
                            element.textContent = this.getTimeAgo(coin.createdAt || coin.addedToDatabase);
                        }
                    }
                });
            }

            startAnimations() {
                // Update timestamps only (no re-rendering)
                setInterval(() => {
                    this.updateTimestamps();
                }, 10000); // Update every 10 seconds
            }

            addActivityItem(activityData) {
                const activityFeed = document.getElementById('activityFeed');
                if (!activityFeed) return;

                // Use timestamp from Firebase if available, otherwise use current time
                const timestamp = activityData.timestamp ? new Date(activityData.timestamp) : new Date();
                const timeStr = timestamp.toLocaleTimeString('en-US', {
                    hour12: false,
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });

                const activityItem = document.createElement('div');
                activityItem.className = `activity-item ${activityData.type || 'info'}`;
                activityItem.innerHTML = `
                    <span class="activity-timestamp">${timeStr}</span>
                    ${activityData.message}
                `;

                // Add to top of feed
                const firstChild = activityFeed.firstChild;
                if (firstChild) {
                    activityFeed.insertBefore(activityItem, firstChild);
                } else {
                    activityFeed.appendChild(activityItem);
                }

                // Keep only last 50 items
                const items = activityFeed.children;
                while (items.length > 50) {
                    activityFeed.removeChild(items[items.length - 1]);
                }

                // Auto-scroll to top
                activityFeed.scrollTop = 0;
            }


        }


        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new DashboardManager();
        });

        // Music player - LOCAL ONLY
        class MusicPlayer {
            constructor() {
                // Only run on localhost
                if (!window.location.hostname.includes('localhost') && !window.location.hostname.includes('127.0.0.1')) {
                    console.log('Music player disabled (not localhost)');
                    return;
                }

                this.tracks = [1, 2, 3, 4, 5, 6, 7, 8];
                this.currentIndex = 0;
                this.audio = new Audio();
                this.audio.volume = 0.3;

                this.audio.addEventListener('ended', () => this.playNext());
                this.audio.addEventListener('error', () => this.playNext());

                // Shuffle and start
                this.shuffle();
                this.play();
            }

            shuffle() {
                for (let i = this.tracks.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [this.tracks[i], this.tracks[j]] = [this.tracks[j], this.tracks[i]];
                }
            }

            play() {
                const track = this.tracks[this.currentIndex];
                this.audio.src = `/music/${track}.mp3`;
                this.audio.play().catch(() => {
                    // Autoplay blocked, try next on user interaction
                    document.addEventListener('click', () => this.audio.play(), { once: true });
                });
            }

            playNext() {
                this.currentIndex = (this.currentIndex + 1) % this.tracks.length;
                if (this.currentIndex === 0) this.shuffle();
                this.play();
            }
        }

        // Start music player
        new MusicPlayer();
    </script>
</body>
</html>